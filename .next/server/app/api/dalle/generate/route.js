"use strict";(()=>{var e={};e.id=264,e.ids=[264],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3984:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>h,patchFetch:()=>A,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>m});var o={};t.r(o),t.d(o,{POST:()=>u});var n=t(5419),s=t(9108),a=t(9678),i=t(8984);async function u(e){let{prompt:r}=await e.json();if(!r)return i.NextResponse.json({error:"Prompt is required"},{status:400});let t=process.env.OPENAI_API_KEY;if(!t)return console.error("OPENAI_API_KEY not defined"),i.NextResponse.json({error:"Server misconfiguration: missing OPENAI_API_KEY"},{status:500});try{let e=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"dall-e-3",prompt:r,n:1,size:"1024x1024"})}),o=await e.json();if(!e.ok)return console.error("OpenAI error",o),i.NextResponse.json({error:o.error?.message||"OpenAI request failed"},{status:e.status});let n=o.data?.[0]?.url;if(!n)return console.error("No URL returned from OpenAI",o),i.NextResponse.json({error:"No image URL returned"},{status:500});return i.NextResponse.json({imageUrl:n})}catch(e){return console.error("Unexpected error in DALL\xb7E route",e),i.NextResponse.json({error:"Unexpected server error"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/dalle/generate/route",pathname:"/api/dalle/generate",filename:"route",bundlePath:"app/api/dalle/generate/route"},resolvedPagePath:"C:\\Users\\archa\\Desktop\\AI-FORGE-PRO\\app\\api\\dalle\\generate\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:c,headerHooks:g,staticGenerationBailout:m}=p,h="/api/dalle/generate/route";function A(){return(0,a.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:l})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,791],()=>t(3984));module.exports=o})();