(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{8542:function(e,t,a){Promise.resolve().then(a.bind(a,9937))},9937:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var s=a(7437),n=a(2265);function r(){let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)(null),u=async t=>{t.preventDefault(),i(!0),o(null),r(null);try{let t=await fetch("/api/dalle/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})}),a=await t.json();t.ok?(r(a.imageUrl),fetch("/api/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:a.imageUrl})}).catch(console.error)):o(a.error||"Error ".concat(t.status))}catch(e){o(e.message||"Network error")}finally{i(!1)}};return(0,s.jsxs)("div",{className:"p-6 max-w-lg mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl mb-4",children:"Generate an Image"}),(0,s.jsxs)("form",{onSubmit:u,className:"mb-6",children:[(0,s.jsxs)("label",{className:"block mb-2",children:[(0,s.jsx)("span",{className:"text-sm",children:"Prompt"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full border rounded p-2",placeholder:"Describe your image…",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:l?"Generating…":"Generate"})]}),c&&(0,s.jsxs)("p",{className:"text-red-500 mb-4",children:["❌ ",c]}),a&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl mb-2",children:"Result"}),(0,s.jsx)("img",{src:a,alt:"Generated by DALL\xb7E-3",className:"rounded shadow mx-auto"})]})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=8542)}),_N_E=e.O()}]);